mixin flex-image-mask(imageSrc, depthX, depthY)
  -
    const {reverse, ...props} = attributes;
    const id= 'flexmask-' + Math.ceil(Math.random() * 1000);
    const left = depthX + '%';
    const width = 100 - depthX + '%';
    const top = depthY + '%';
    const height = 100 - depthY + '%';
  .flex-image-mask&attributes(props)
    svg(xmlns="http://www.w3.org/2000/svg", xmlns:xlink="http://www.w3.org/1999/xlink", version="1.1")
      defs 
        mask(id= id)
          rect(width='100%', height='100%', fill='black')
          rect(x=`${reverse ? left :'0%'}`, y="0%", width=width, height=height, rx="40", fill="white")
          rect(x=reverse ? '0%' : left, y=top, width=width, height=height rx="40", fill="white")
          rect(x="12.5%", y="12.5%", width="75%", height="75%", fill="white")
          rect(x=reverse ? '0%' : width, y="0%", width=left, height=top, rx="40", fill="black")
          rect(x=reverse ? width : '0%', y=height, width=left, height=top, rx="40", fill="black")
      image(xlink:href=imageSrc, width="100%", height="100%", mask=`url(#${id})`, preserveAspectRatio="xMidYMid slice")  
